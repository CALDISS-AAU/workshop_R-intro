% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
  10pt,
  ignorenonframetext,
]{beamer}
\usepackage{pgfpages}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{caption label separator}{: }
\setbeamercolor{caption name}{fg=normal text.fg}
\beamertemplatenavigationsymbolsempty
% Prevent slide breaks in the middle of a paragraph
\widowpenalties 1 10000
\raggedbottom
\setbeamertemplate{part page}{
  \centering
  \begin{beamercolorbox}[sep=16pt,center]{part title}
    \usebeamerfont{part title}\insertpart\par
  \end{beamercolorbox}
}
\setbeamertemplate{section page}{
  \centering
  \begin{beamercolorbox}[sep=12pt,center]{part title}
    \usebeamerfont{section title}\insertsection\par
  \end{beamercolorbox}
}
\setbeamertemplate{subsection page}{
  \centering
  \begin{beamercolorbox}[sep=8pt,center]{part title}
    \usebeamerfont{subsection title}\insertsubsection\par
  \end{beamercolorbox}
}
\AtBeginPart{
  \frame{\partpage}
}
\AtBeginSection{
  \ifbibliography
  \else
    \frame{\sectionpage}
  \fi
}
\AtBeginSubsection{
  \frame{\subsectionpage}
}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usetheme[]{AAUsimple}
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\newif\ifbibliography
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
\usepackage{caption}
% Make caption package work with longtable
\makeatletter
\def\fnum@table{\tablename~\thetable}
\makeatother
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\def\tightlist{}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{helvet}
\definecolor{caldissMain}{RGB}{153,47,135}
\setbeamercolor{AAUsimple}{bg=caldissMain}
\setbeamercolor{structure}{fg=caldissMain}
\setbeamercolor{frametitle}{bg=caldissMain}
\title{Introduktion til R}
\date{26. januar 2023}
\author{Kristian G. Kjelmann (\href{mailto:kgk@adm.aau.dk}{{\tt kgk@adm.aau.dk}})}
\institute{CALDISS\\
  Det Samfundsvidenskabelige og Humanistiske Faultet, AAU
}
\pgfdeclareimage[height=1.5cm]{titlepagelogo}{AAUgraphics/caldiss_logo_symbol}
\titlegraphic{
  \pgfuseimage{titlepagelogo}
  }
\begin{document}
  \begin{frame}[plain,noframenumbering]
    \titlepage
  \end{frame}
\makeatletter
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\author{}
\date{}

\begin{document}
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[interior hidden, breakable, sharp corners, borderline west={3pt}{0pt}{shadecolor}, enhanced, frame hidden, boxrule=0pt]}{\end{tcolorbox}}\fi

\begin{frame}{Dagens program}
\protect\hypertarget{dagens-program}{}
\begin{enumerate}
\item
  Hvad er R?
\item
  At arbejde med R sproget i RStudio
\item
  Basiskoncepter i R (objekter, funktioner og klasser)
\item
  Udvid hvad R kan med pakker
\item
  Import af data
\item
  Simple visualiseringer
\end{enumerate}
\end{frame}

\begin{frame}{Hvem er jeg?}
\protect\hypertarget{hvem-er-jeg}{}
\begin{columns}[c]
\begin{column}[c]{0.4\textwidth}
\begin{figure}

\includegraphics[width=0.8\textwidth,height=\textheight]{img/kgk.jpg} \hfill{}

\end{figure}
\end{column}

\begin{column}[c]{0.6\textwidth}
Kristian Kjelmann\\
\strut \\
Ph.d. studerende ved sociologi\\
\strut \\
Forskningssupport ved CALDISS\\
\strut \\
Programmering, data science og machine learning (særligt med tekst)\\
\strut \\
Brugt R siden 2016
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Hvad er R?}
\protect\hypertarget{hvad-er-r}{}
\begin{columns}[c]
\begin{column}[c]{0.65\textwidth}
R er et gratis analyseprogram med sit eget kommandosprog/kodesprog.\\
\strut \\
Programmet egner sig især til kvantitative analyser og visualiseringer
af kvantitative data.\\
\strut \\
R kan arbejde med mange forskellige dataformater. Da programmet er
``open source'', findes ufatteligt mange udvidelser til programmet, der
tilføjer funktioner.
\end{column}

\begin{column}[c]{0.35\textwidth}
\begin{figure}

\includegraphics[width=1\textwidth,height=\textheight]{img/r-logo.png} \hfill{}

\end{figure}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Hvad er RStudio?}
\protect\hypertarget{hvad-er-rstudio}{}
\begin{columns}[c]
\begin{column}{0.5\textwidth}
\begin{figure}

\includegraphics[width=\textwidth,height=0.25\textheight]{img/rstudio-logo.png} \hfill{}

\end{figure}

R i sig selv er meget begrænset. RStudio tilføjer en brugerflade ovenpå
R, der gør det rarere at arbejde med.\\
\strut \\
Man arbejder typisk i RStudio, når man bruger R.
\end{column}

\begin{column}{0.5\textwidth}
\begin{block}{Fordele ved RStudio}
\protect\hypertarget{fordele-ved-rstudio}{}
\hfill\break
Giver overblik over projektfiler\\
\strut \\
Hjælper til at tilrette og fuldende kommandoer i script\\
\strut \\
Overblik over aktivt miljø\\
\strut \\
Hjælper med at importere data
\end{block}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Hvad er RStudio?}
\protect\hypertarget{hvad-er-rstudio-1}{}
\includegraphics[width=0.9\textwidth,height=\textheight]{img/rstudio.png}
\emph{Source:
\href{https://cecilialee.github.io/blog/2017/12/05/intro-to-r-programming.html}{Cecilia
Lee}}
\end{frame}

\begin{frame}{R-sproget}
\protect\hypertarget{r-sproget}{}
\begin{columns}[c]
\begin{column}{0.55\textwidth}
R fungerer ved at man skriver kommandoer i R sproget, som R derefter
``fortolker''.\\
\strut \\
``Fortolkning'' i R er blot et spørgsmål om R forstår, hvad du forsøger
at gøre. Hvis R forstår det du beder om, gør R den ting. Hvis R ikke
forstår det, får man en fejl.\\
\strut \\
Al fortolkning i R foregår gennem R's konsol. I konsollen skriver man
enten R kode direkte eller også sender man kode dertil fra et script (en
tekstfil med R-kode).\\
\end{column}

\begin{column}{0.45\textwidth}
\begin{figure}

{\centering \includegraphics[width=1\textwidth,height=\textheight]{img/r-konsol.png}

}

\end{figure}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{R-sproget}
\protect\hypertarget{r-sproget-1}{}
\begin{columns}[c]
\begin{column}{0.5\textwidth}
\begin{block}{R som en veltrænet hund}
\protect\hypertarget{r-som-en-veltruxe6net-hund}{}
\hfill\break
Naiv\\
\strut \\
Forstår kommandoer sagt på en bestemt måde\\
\strut \\
Gør hvad du beder om\\
\strut \\
Kan lære nye ting
\end{block}
\end{column}

\begin{column}{0.5\textwidth}
\begin{figure}

{\centering \includegraphics[width=0.9\textwidth,height=\textheight]{img/r-dog-meet.jpg}

}

\end{figure}
\end{column}
\end{columns}
\end{frame}

\begin{frame}[fragile]{R-sproget: Matematik i R}
\protect\hypertarget{r-sproget-matematik-i-r}{}
\begin{longtable}[]{@{}ll@{}}
\toprule()
\textbf{Operator} & \textbf{Function} \\
\midrule()
\endhead
\texttt{+} & Addition \\
\texttt{-} & Subtraction \\
\texttt{*} & Multiplication \\
\texttt{/} & Division \\
\texttt{\^{}} & Exponentiation \\
\texttt{\%\%} & Modulo \\
\texttt{\%/\%} & Integer Division \\
\bottomrule()
\end{longtable}
\end{frame}

\begin{frame}{R-sproget: Objekter og funktioner}
\protect\hypertarget{r-sproget-objekter-og-funktioner}{}
R fungerer ved at lagre værdier og information i ``objekter''. Disse
objekter kan derefter bruges i forskellige funktioner. Funktioner kan
være alt fra at udregne et gennemsnit, lave en figur, gemme et datasæt
osv.

Forsimplet sagt: Et objekt er en eller anden lagret information, mens en
funktion er noget, som kan bearbejde eller gøre noget ved informationen
i et objekt.
\end{frame}

\begin{frame}[fragile]{Objekter}
\protect\hypertarget{objekter}{}
At arbejde med R involverer kontinuerligt at definere objekter. Objekter
er blot et navn til at kalde lagret information frem igen.

Objekter kan være mange ting:

\begin{verbatim}
et ord
et tal
en talrække
et datasæt
en matematisk formel
et resultat
en filsti
en graf
og så videre...
\end{verbatim}

Når et objekt er defineret, er det tilgængeligt i det aktuelle
``miljø''. I R skal et miljø forstås som en samling af objekter og
funktioner, som er til rådighed (defineret, ``native'' eller indlæst).
\end{frame}

\begin{frame}[fragile]{Objekter}
\protect\hypertarget{objekter-1}{}
\begin{figure}

{\centering \includegraphics[width=0.8\textwidth,height=\textheight]{img/r-dog.png}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bolden }\OtherTok{\textless{}{-}} \DecValTok{42}
\end{Highlighting}
\end{Shaded}
\end{frame}

\begin{frame}[fragile]{Objekter}
\protect\hypertarget{objekter-2}{}
\begin{figure}

{\centering \includegraphics[width=0.7\textwidth,height=\textheight]{img/conf-dog-text.png}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(bold)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Error in print(bold): object 'bold' not found
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{Objekter}
\protect\hypertarget{objekter-3}{}
\begin{figure}

{\centering \includegraphics[width=0.7\textwidth,height=\textheight]{img/dog-happy-text.png}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(bolden)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 42
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{Vectors (enkeltvariable)}
\protect\hypertarget{vectors-enkeltvariable}{}
En basal datastruktur i R er en vector.

En vector er en række af værdier af den samme type (fx en række tal, en
række ord osv.).

Vectors dukker op i mange forskellige sammenhænge i R, da de bruges hver
gang, at man skal angive en samling af flere værdier.

Vectors laves med \texttt{c()} - fx \texttt{c(1,\ 2,\ 3)} (hver værdi
adskilt med \texttt{,}).
\end{frame}

\begin{frame}[fragile]{R-sproget: R scripts}
\protect\hypertarget{r-sproget-r-scripts}{}
Script-filer er tekst filer med kode, som R kan forstå (``fortolke'').

En script-fil kan forstås som en ``analyseopskrift'', der indeholder
alle kommandoer nødvendige for at foretage en analyse. Det tillader
også, at man nemt kan køre kommandoer igen.

Man bør altid skrive de kommandoer, som er nødvendige for at lave
analysen, ind i et script.

Brug konsolvinduet til at finde frem til den rigtige kommando.

\texttt{\#} kan bruges til kommentarer (ignoreres når man kører koden)

\textbf{BEMÆRK!} Der er ingen fortryd-knap i R! Når koden er kørt, er
ændringen sket. Den eneste måde at ``fortryde'' er ved at genskabe det,
som man har lavet, ved at køre tidligere kode igen. Netop derfor er
scripts vigtige.
\end{frame}

\begin{frame}[fragile]{R Projekter og arbejdsstier}
\protect\hypertarget{r-projekter-og-arbejdsstier}{}
Når man skal importere og eksportere filer i R, har R brug for at vide,
hvor filer skal hentes fra og lægges.

Dette holder R styr på med \emph{filstier}. En \emph{filsti} kan siges
at være en addresse for, hvor en fil ligger på din computer.

R arbejder med \emph{arbejdsstier}. En \emph{arbejdssti} er det sted,
som R tager udgangspunkt i, når R skal finde eller gemme filer.

Man kan tjekke sin nuværende arbejdssti med funktionen \texttt{getwd()}.

Arbejdssti kan ændres med \texttt{setwd()} (eller i RStudio under
Session -\textgreater{} Set Working Directory).
\end{frame}

\begin{frame}[fragile]{R Projekter og arbejdsstier}
\protect\hypertarget{r-projekter-og-arbejdsstier-1}{}
Da man ofte bruger R i flere sammenhænge (fx en introduktion til R i
dag, en analyseopgave i morgen), skifter man typisk arbejdssti afhængigt
af, hvad man arbejder med.

R Projekter i RStudio letter arbejdet med at skifte mellem arbejdsstier
og finde rundt i filer.

Et R Projekt er ikke andet end en mappe på din computer. I denne kan det
være en god ide at samle datafiler, R kodefiler og andet relevant
materiale, som er relevant for det pågældende projekt.

R ligger en \texttt{.Rproj}-fil i den mappe, som man laver til R
Projekt. Denne bruges til nemt at skifte arbejdssti til projektet.
\end{frame}

\begin{frame}[fragile]{ØVELSE: Lav et R Projekt}
\protect\hypertarget{uxf8velse-lav-et-r-projekt}{}
\begin{enumerate}
\item
  Lav et R Projekt
\item
  Lav et script, der danner følgende objekter:
\end{enumerate}

\texttt{navn1}: \texttt{"araya"}

\texttt{navn2}: \texttt{"townsend"}

\texttt{aar1}: \texttt{1961} (uden anførselstegn)

\texttt{aar2}: \texttt{"1972"} (med anførselstegn)

Et objekt, der indeholder alder for \texttt{aar1} (2023 - \texttt{aar1})

En vector, der indeholder årene mellem 1960 og 2023
(\texttt{c(1960:2023)})

En vector, der indeholder aldrene for folk født mellem 1960-2023
(\texttt{2023\ -\ c(1960:2023)})
\end{frame}

\begin{frame}[fragile]{Funktioner}
\protect\hypertarget{funktioner}{}
Funktioner er kommandoer brugt til at transformere objekter på en eller
anden måde og give et output.

Det, som man sætter i funktionen, kaldes et ``argument'' eller
``input''. Antallet af argumenter varierer mellem funktioner.

Funktioner har alle den samme opbygning:

\texttt{funktionsnavn(arg1,\ arg2,\ arg3)}

\begin{itemize}
\tightlist
\item
  \emph{funktionsnavn med argumenterne i parentes adskilt med kommaer}
\end{itemize}

Nogle argumenter er krævede, mens andre er valgfrie. Man kan altid
konsultere hjælpefil for at se, hvilke argumenter en funktion har
(\texttt{?funktionsnavn}).
\end{frame}

\begin{frame}[fragile]{Funktioner}
\protect\hypertarget{funktioner-1}{}
\begin{columns}[c]
\begin{column}{0.5\textwidth}
\textbf{Funktion:}

Mikrobølgeovn\\
\strut \\
\textbf{Krævet argument:}

Det der skal tilberedes\\
\strut \\
\textbf{Valgfrie argumenter:}

Mikrobølgeovnens indstillinger
\end{column}

\begin{column}{0.5\textwidth}
\begin{figure}

{\centering \includegraphics[width=1\textwidth,height=\textheight]{img/microwave.jpg}

}

\end{figure}
\end{column}
\end{columns}

\hfill\break
\hfill\break

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{microwave}\NormalTok{(squash, }\AttributeTok{watts =} \DecValTok{750}\NormalTok{, }\AttributeTok{time =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}
\end{frame}

\begin{frame}{Funktioner}
\protect\hypertarget{funktioner-2}{}
Funktioner ændrer aldrig et objekt. Når man bruger en funktion, beder
man R om at se et output, men ikke om at ændre noget (hvordan ser min
squash ud, når den har været i mikroovnen?).

Hvis man vil ændre et objekt, skal man derfor lagre outputtet i et nyt
eller eksisterende objekt (jeg vil gerne erstatte min squash med den,
som har været i mikroovonen).
\end{frame}

\begin{frame}[fragile]{Brug af betingelser i R - logiske værdier}
\protect\hypertarget{brug-af-betingelser-i-r---logiske-vuxe6rdier}{}
En lang række kommandoer og funktioner i R vil returnere \emph{logiske
værdier}.

Logiske værdier kan kun være \texttt{TRUE} eller \texttt{FALSE} (eller
missing/\texttt{NA}).

Bruger man fx disse operatorer i R, returneres altid en logisk værdi:

\begin{longtable}[]{@{}ll@{}}
\toprule()
\textbf{Operator} & \textbf{Betydning} \\
\midrule()
\endhead
\texttt{\textgreater{}} & Større end \\
\texttt{\textgreater{}=} & Større end eller lig med \\
\texttt{\textless{}} & Mindre end \\
\texttt{\textless{}=} & Mindre end eller lig med \\
\texttt{==} & Lig med \\
\texttt{!=} & Ikke lig med \\
\texttt{\%in\%} & Er værdi del af værdisamling? \\
\bottomrule()
\end{longtable}
\end{frame}

\begin{frame}[fragile]{ØVELSE: Funktioner}
\protect\hypertarget{uxf8velse-funktioner}{}
\begin{enumerate}
\item
  Brug funktionen \texttt{mean()} til at udregne gennemsnit af din
  aldersvector
\item
  Brug funktionen \texttt{gsub()} til at skifte det lille ``t'' i
  \texttt{navn2} ud med stort ``T'' (se hjælpefilen).
\item
  Spørg R om hhv. \texttt{aar1} og \texttt{aar2} indgår i din vector med
  årene 1960-2023 (\texttt{x\ \%in\%\ y})
\end{enumerate}
\end{frame}

\begin{frame}{Classes (datatyper)}
\protect\hypertarget{classes-datatyper}{}
R adskiller mellem objekter via deres ``class''.

En ``class'' er R's måde at holde styr på, hvilken type af information,
som objektet indeholder.

En class sætter samtidig betingelserne for, hvad der kan lade sig gøre
med objektet (fx at vi kan lave udregninger med tal, men at vi ikke kan
det med tekst).
\end{frame}

\begin{frame}{Classes (datatyper)}
\protect\hypertarget{classes-datatyper-1}{}
\begin{figure}

{\centering \includegraphics[width=0.85\textwidth,height=\textheight]{img/classes-shapes.jpg}

}

\end{figure}
\end{frame}

\begin{frame}{Pakker}
\protect\hypertarget{pakker}{}
Fordi R er ``open source'', bliver der konstant tilføjet nye funktioner
til R. Funktioner, som andre har lavet, kan læses ind via ``R pakker'',
som kan gøres til del af ens ``R bibliotek''.

R adskiller mellem installation og indlæsning. Dette for at undgå
konflikter mellem pakker.

Man behøver kun at installere pakker én gang.

Pakker, som bruges i et script, indlæses i starten af scriptet.
\end{frame}

\begin{frame}{Pakker}
\protect\hypertarget{pakker-1}{}
\begin{columns}[c]
\begin{column}[c]{0.5\textwidth}
\begin{block}{Basis R}
\protect\hypertarget{basis-r}{}
\hfill\break
\includegraphics[width=\textwidth,height=0.5\textheight]{img/robot.png}
\end{block}
\end{column}

\begin{column}[c]{0.5\textwidth}
\begin{block}{R pakker}
\protect\hypertarget{r-pakker}{}
\hfill\break
\includegraphics[width=\textwidth,height=0.5\textheight]{img/robot-parts.png}
\end{block}
\end{column}
\end{columns}
\end{frame}

\begin{frame}[fragile]{Introduktion til tidyverse}
\protect\hypertarget{introduktion-til-tidyverse}{}
\href{https://www.tidyverse.org/}{Tidyverse} er en samling af pakker til
R, der letter arbejdet med at indlæse, håndtere og arbejde med data.

Pakkerne fra Tidyverse har den fordel, at de alle følger den samme
designfilosofi og opbygning i deres funktioner.

Vi vil i disse R introduktioner primært bruge funktioner fra tidyverse
til data- og variabelhåndtering.

Alle pakker fra \texttt{tidyverse} kan installeres og indlæses på én
gang:

\begin{itemize}
\tightlist
\item
  \texttt{install.packages(\textquotesingle{}tidyverse\textquotesingle{})}
\item
  \texttt{library(tidyverse)}
\end{itemize}

Læs mere om tidyverse og se guides på: \url{https://www.tidyverse.org/}.
\end{frame}

\begin{frame}{Indlæsning af data}
\protect\hypertarget{indluxe6sning-af-data}{}
R kan arbejde med data på mange forskellige måder.

For at R kan arbejde med data, skal data indlæses i en af R's
\emph{datastrukturer}.

Datasæt kan eksistere i mange forskellige former. Måden vi indlæser data
i R, skal derfor hænge sammen med den form og det format, som data har
``uden for R''.
\end{frame}

\begin{frame}{Data frames}
\protect\hypertarget{data-frames}{}
En ``data frame'' er en datastruktur i R, som bruges til at håndtere
data i tabelformat (data i rækker og kolonner).

For R er en data frame bare endnu et objekt af en bestemt type (class).

Fordi data frames blot er objekter, kan man arbejde med så mange data
frames ad gangen, som man har lyst til.

Af samme grund er man nødt til at fortælle R, når man vil gøre noget med
information, som befinder sig i en bestemt data frame.
\end{frame}

\begin{frame}{Indlæsning af data - tabeldata}
\protect\hypertarget{indluxe6sning-af-data---tabeldata}{}
\begin{longtable}[]{@{}rrlrrl@{}}
\toprule()
idno & yrbrn & gndr & eduyrs & wkhtot & health \\
\midrule()
\endhead
5816 & 1974 & Male & 35 & 37 & Good \\
7251 & 1975 & Female & 13 & 34 & Fair \\
7887 & 1958 & Male & 25 & 39 & Fair \\
9607 & 1964 & Female & 13 & 34 & Good \\
11688 & 1952 & Female & 2 & 37 & Very bad \\
12355 & 1963 & Male & 14 & 37 & Fair \\
\bottomrule()
\end{longtable}
\end{frame}

\begin{frame}[fragile]{Indlæsning af data - csv-filer}
\protect\hypertarget{indluxe6sning-af-data---csv-filer}{}
\begin{verbatim}
idno,yrbrn,gndr,eduyrs,wkhtot,health
5816,1974,Male,35,37,Good
7251,1975,Female,13,34,Fair
7887,1958,Male,25,39,Fair
9607,1964,Female,13,34,Good
11688,1952,Female,2,37,Very bad
12355,1963,Male,14,37,Fair
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{ØVELSE: Indlæs data}
\protect\hypertarget{uxf8velse-indluxe6s-data}{}
\begin{columns}[c]
\begin{column}[c]{0.7\textwidth}
\begin{enumerate}
\tightlist
\item
  Lav en undermappe til data i dit R Projekt\\
  \strut \\
\item
  Hent datasæt ned i din datamappe\\
  \strut \\
\end{enumerate}

\begin{itemize}
\tightlist
\item
  Data findes på:
  \href{https://bit.ly/sofia-r-data-jan23}{bit.ly/sofia-r-data-jan23}\\
  \strut \\
\item
  Højreklik på ``Raw'' og vælg ``Gem som'' -\textgreater{} Læg i din
  datamappe\\
  \strut \\
\end{itemize}

\begin{enumerate}
\setcounter{enumi}{2}
\tightlist
\item
  Indlæs datasæt som dataframe i R med \texttt{read\_csv()}
\end{enumerate}
\end{column}

\begin{column}[c]{0.3\textwidth}
\begin{figure}

{\centering \includegraphics[width=1\textwidth,height=\textheight]{img/data-qr.png}

}

\end{figure}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Vectors og enkeltvariable}
\protect\hypertarget{vectors-og-enkeltvariable}{}
For R er værdier (tal, tekst, osv.) \emph{altid} vectors.

Selv objekter, der blot består af ét tal, behandler R som en vector (en
vector bestående af én talværdi).

Derfor virker kommandoer og funktioner i R ens, uanset om de bruges på
enkelte tal, enkelte vectors eller enkelte kolonner i en data frame.
\end{frame}

\begin{frame}[fragile]{Missingværdier}
\protect\hypertarget{missingvuxe6rdier}{}
Data vil ofte indeholde missing-værdier. Missing-værdier angiver
ikke-gyldige værdier; fx et manglende svar, ugyldigt svar, information
der ikke kunne skaffes eller lignende.

Missing-værdier bruges til at give en værdi uden at give en værdi
(cellerne skal indeholde noget). På den måde er man ikke nødt til at
fjerne hele rækker fra datasættet, selvom der mangler oplysninger.

I R angives missing-værdier med \texttt{NA} og er hverken høje eller
lave.
\end{frame}

\begin{frame}[fragile]{ØVELSE: Deskriptive mål}
\protect\hypertarget{uxf8velse-deskriptive-muxe5l}{}
\begin{enumerate}
\tightlist
\item
  Udregn gennemsnitsværdi (\texttt{mean()}) for \texttt{netustm}
  (minutter på internettet om dagen) i ESS18 datasættet
\end{enumerate}

\emph{BEMÆRK}: Variabel indeholder muligvis missing! Tjek hjælpefil for
at se, om der er en måde at tage højde for dette.
\end{frame}

\begin{frame}[fragile]{Datahåndtering med tidyverse}
\protect\hypertarget{datahuxe5ndtering-med-tidyverse}{}
Pakkerne i \texttt{tidyverse} indeholder primært funktioner til
datahåndtering (udvælge rækker, kolonner, ændre variable osv.).

Funktioner i \texttt{tidyverse} følger den samme opbygning, hvor data
altid er første argument:

\begin{itemize}
\tightlist
\item
  \texttt{tidyversefunction(dataframe,\ arg1,\ arg2)}
\end{itemize}

Nogle centrale funktioner er blandt andet:

\begin{itemize}
\tightlist
\item
  \texttt{filter()} til at selektere rækker
\item
  \texttt{select()} til at vælge kolonner
\item
  \texttt{mutate()} til at lave og ændre variable
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Visualisering med ggplot2}
\protect\hypertarget{visualisering-med-ggplot2}{}
R (eller mere specifikt \texttt{ggplot2}) er rost for de mange måder,
som man kan danne og tilpasse visualiseringer af data.

Pakken \texttt{ggplot2} er en del af \texttt{tidyverse} og bruges til at
lave visualiseringer af data. Funktionerne i \texttt{ggplot2} gør det
muligt at tilpasse nærmest alt, og understøtter mange typer af
visualisering.

Overordnet set fungerer ggplot ved, at man først angiver, hvad der skal
visualiseres (data og ``aesthetics''), hvorefter man angiver, hvordan
det skal visualiseres (``geom'').
\end{frame}

\begin{frame}[fragile]{Visualisering med ggplot2}
\protect\hypertarget{visualisering-med-ggplot2-1}{}
Som hovedregel følger et ggplot denne skabelon:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =} \SpecialCharTok{\textless{}}\NormalTok{DATA}\SpecialCharTok{\textgreater{}}\NormalTok{, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\SpecialCharTok{\textless{}}\NormalTok{MAPPINGS}\SpecialCharTok{\textgreater{}}\NormalTok{)) }\SpecialCharTok{+} 
  \ErrorTok{\textless{}}\NormalTok{GEOM\_FUNCTION}\SpecialCharTok{\textgreater{}}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\SpecialCharTok{\textless{}}\NormalTok{MAPPINGS}\SpecialCharTok{\textgreater{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \textbf{ggplot}: Hovedfunktion. Hvad skal visualisering indeholde?

  \begin{itemize}
  \tightlist
  \item
    \emph{data}: Hvilket datasæt skal visualiseres?
  \item
    \emph{mapping}: Hvilke informationer fra data skal ``mappes'' til
    visualiseringen? (gives ved \texttt{aes()} - fx
    \texttt{aes(x\ =\ \textquotesingle{}alder\textquotesingle{},\ y\ =\ \textquotesingle{}månedsløn\textquotesingle{})})
  \end{itemize}
\item
  \textbf{GEOM\_FUNCTION}: Hvordan skal data visualiseres? (hvilken
  \emph{geometrisk} repræsentation? - prikker, linjer, bjælker osv.)
\end{itemize}
\end{frame}

\begin{frame}[fragile]{ØVELSE: Visualisering}
\protect\hypertarget{uxf8velse-visualisering}{}
\begin{enumerate}
\item
  Dan et subset (ny data frame), der kun indeholder mændene i ESS18
  sættet (brug \texttt{filter()} og variablen \texttt{gndr}).
\item
  Dan et punktdiagram (\texttt{geom\_point()}) over fødselsår
  (\texttt{yrbrn}) og tid brugt på internettet (\texttt{netustm}). Brug
  fødselsår til x-akse og tid brugt på internettet som y-akse.
\item
  Dan det samme punktdiagram for kvinderne.
\item
  Dan det samme punktdiagram for hele datasættet, men hvor køn tilføjes
  som \texttt{colour} aesthetic.
\end{enumerate}
\end{frame}



\end{document}
